\begin{figure}[pt]
  %\newcommand\stepnumber[1]{{\bfseries\scshape\osfstyle step #1}}
  \newcommand\updline{\color{purple}}
  \newcommand\stepnumber[1]{{\AlegreyaSansOsF\bfseries\scshape step #1}}
  \newcommand\reachstep[2]{%
    \hfil
    \begin{minipage}[t]{.44\textwidth}
      \centering\stepnumber{#1}\\[\baselineskip]
      \raggedright
      \ttfamily
      \begin{tabular}{cl@{\qquad}l}
        %% &\textsfit{code} &\textsfit{assignments to x}\\[.25ex]
        #2
      \end{tabular}
      \vspace{2\baselineskip}
    \end{minipage}
    \hfil
  }

  %\small
  \centering
  \reachstep{1}{
    1 & \tt x := 0          & \updline (x,1)\\
    2 & \tt print x\\
    3 & \tt while true do\\
    4 & \tt\quad print x\\
    5 & \tt\quad x := x + 1}
  %
  \reachstep{2}{
    1 & \tt x := 0          & (x,1)\\
    2 & \tt print x         & \updline (x,1)\\
    3 & \tt while true do\\
    4 & \tt\quad print x\\
    5 & \tt\quad x := x + 1}
  %
  \reachstep{3}{
    1 & \tt x := 0          & (x,1)\\
    2 & \tt print x         & (x,1)\\
    3 & \tt while true do   & \updline (x,1)\\
    4 & \tt\quad print x\\
    5 & \tt\quad x := x + 1}
  %
  \reachstep{4}{
    1 & \tt x := 0          & (x,1)\\
    2 & \tt print x         & (x,1)\\
    3 & \tt while true do   & (x,1)\\
    4 & \tt\quad print x    & \updline (x,1)\\
    5 & \tt\quad x := x + 1}
  %
  \reachstep{5}{
    1 & \tt x := 0          & (x,1)\\
    2 & \tt print x         & (x,1)\\
    3 & \tt while true do   & (x,1)\\
    4 & \tt\quad print x    & (x,1)\\
    5 & \tt\quad x := x + 1 & \updline (x,5) }
  %
  \reachstep{6}{
    1 & \tt x := 0          & (x,1)\\
    2 & \tt print x         & (x,1)\\
    3 & \tt while true do   & (x,1) \updline (x,5)\\
    4 & \tt\quad print x    & (x,1)\\
    5 & \tt\quad x := x + 1 & (x,5) }
  %
  \reachstep{7}{
    1 & \tt x := 0          & (x,1)\\
    2 & \tt print x         & (x,1)\\
    3 & \tt while true do   & (x,1) (x,5)\\
    4 & \tt\quad print x    & (x,1) \updline (x,5)\\
    5 & \tt\quad x := x + 1 & (x,5) }
  %
  \reachstep{8}{
    1 & \tt x := 0          & (x,1)\\
    2 & \tt print x         & (x,1)\\
    3 & \tt while true do   & (x,1) (x,5)\\
    4 & \tt\quad print x    & (x,1) (x,5)\\
    5 & \tt\quad x := x + 1 & (x,5) \\[1ex]
  \multicolumn{3}{c}{\sffamily\itshape\updline no changes -- done!}}
  
  \todo{needs more polish?}

  \caption{Reaching definitions, step-by-step}
  \label{figure-reaching-definitions-execution}
\end{figure}
